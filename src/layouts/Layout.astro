---
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
  fullWidth?: boolean;
  contentClass?: string;
}

const {
  title,
  description = "JamBuddy - Tools for Musicians",
  fullWidth = false,
  contentClass
} = Astro.props;

const baseContentClass = fullWidth
  ? "content-overlay w-full max-w-none my-8 px-4 sm:px-6 lg:px-12 xl:px-16 py-10"
  : "content-overlay mx-auto max-w-7xl my-8 p-6";
const resolvedContentClass = contentClass ?? baseContentClass;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="canonical" href="https://jambuddy.live/" />
  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:url" content="https://jambuddy.live/" />
  <meta property="og:image" content="https://jambuddy.live/images/logo/pick.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={title} />
  <meta name="twitter:description" content={description} />
  <meta name="twitter:image" content="https://jambuddy.live/images/logo/pick.png" />
    
  <!-- TODO: Add structured data (SoftwareApplication) as a later enhancement -->
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="192x192" href="/favicon-192x192.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <title>{title}</title>
  </head>
  <body class="min-h-screen">
  <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-black text-white px-4 py-2 rounded z-50">Skip to content</a>
    <nav class="bg-black/95 shadow-2xl border-b border-gray-700 backdrop-blur-md sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-20">
          <div class="flex items-center">
            <a href="/" class="group flex items-center">
              <img src="/images/logo/pick.png" alt="JamBuddy" class="h-10 transition-transform duration-300 group-hover:scale-110" />
            </a>
          </div>          
          
          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-8">
            <a href="/" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">Home</a>
            <a href="/abc" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">Sheet Music</a>
            <a href="/chord-browser" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">Chord Browser</a>
            <a href="/features" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">Features</a>
            <a href="/external-links" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">External Links</a>
            <a href="/about" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">About</a>
            <a href="/contact" class="text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 font-medium">Contact</a>
            <a href="https://play.google.com/store/apps/details?id=com.jambuddy.app&pcampaignid=web_share" target="_blank" rel="noopener" class="group bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 hover:from-green-700 hover:to-green-800 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center">
              <img src="/images/icons/google-play-badge.png" alt="Get it on Google Play" class="h-8 transition-transform group-hover:scale-110" />
            </a>
          </div>

          <!-- Mobile menu button -->
          <div class="md:hidden flex items-center">
            <button id="mobile-menu-button" class="text-gray-300 hover:text-white focus:outline-none focus:text-white">
              <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                <path class="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                <path class="close-icon hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobile-menu" class="md:hidden hidden">
          <div class="px-2 pt-2 pb-3 space-y-1 bg-black/95 border-t border-gray-700">
            <a href="/" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">Home</a>
            <a href="/abc" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">Sheet Music</a>
            <a href="/chord-browser" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">Chord Browser</a>
            <a href="/features" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">Features</a>
            <a href="/external-links" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">External Links</a>
            <a href="/about" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">About</a>
            <a href="/contact" class="block px-3 py-2 text-gray-300 hover:text-white transition-all duration-300 font-medium">Contact</a>
            <a href="https://play.google.com/store/apps/details?id=com.jambuddy.app&pcampaignid=web_share" target="_blank" rel="noopener" class="block mx-3 my-2 bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-2 rounded-xl font-semibold text-center">
              Download App
            </a>
          </div>
        </div>
      </div>
    </nav>

    <main>
      <div class={resolvedContentClass}>
        <slot />
      </div>
    </main>

    <footer class="bg-gradient-to-b from-gray-900 to-black text-white backdrop-blur-md border-t border-gray-700">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
          <div class="col-span-2">
            <div class="flex items-center mb-6">
              <img src="/images/logo/jam_buddy_clear.png" alt="JamBuddy" class="h-12 mr-4" />
              <h3 class="text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent">JamBuddy</h3>
            </div>
            <p class="text-gray-300 mb-8 text-lg leading-relaxed">
              Watch the Circle of Fifths update in real time, browse and edit collections of tunes with rendered sheet music and tabs, transpose them into any key with a click, swipe through chord charts for guitar, mandolin, uke, or bass, slow audio down, loop the tough bars, save loops, record ideas, and keep your ABC songbook, lyrics, and backing tracks in one offline place. There's also a built-in metronome and a tuner. All with no accounts, no subscriptions and no ads, ever.
            </p>
            <div class="flex space-x-6">
              <a href="https://github.com/stewing-co" class="group text-gray-400 hover:text-white transition-all duration-300 transform hover:scale-110">
                <span class="sr-only">GitHub</span>
                <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/>
                </svg>
              </a>
              <a href="https://www.youtube.com/@JamBuddyLive" class="group text-gray-400 hover:text-white transition-all duration-300 transform hover:scale-110">
                <span class="sr-only">YouTube</span>
                <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
              </a>
              <a href="https://bsky.app/profile/jambuddy.live" class="group text-gray-400 hover:text-white transition-all duration-300 transform hover:scale-110">
                <span class="sr-only">Bluesky</span>
                <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"/>
                </svg>
              </a>
            </div>
          </div>
          <div>
            <h4 class="text-xl font-bold mb-6 text-white">Product</h4>            
            <ul class="space-y-4">
              <li><a href="/abc" class="text-gray-300 hover:text-white transition-all duration-300 hover:translate-x-1">Sheet Music</a></li>
              <li><a href="/chord-browser" class="text-gray-300 hover:text-white transition-all duration-300 hover:translate-x-1">Chord Browser</a></li>
              <li><a href="/features" class="text-gray-300 hover:text-white transition-all duration-300 hover:translate-x-1">Features</a></li>
              <li>
                <a href="https://play.google.com/store/apps/details?id=com.jambuddy.app&pcampaignid=web_share" target="_blank" rel="noopener" class="group text-gray-300 hover:text-white transition-all duration-300 flex items-center hover:translate-x-1">
                  <img src="/images/icons/google-play-badge.png" alt="Get it on Google Play" class="h-8 mr-2 transition-transform group-hover:scale-110" />
                  <span>Android App</span>
                </a>
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl font-bold mb-6 text-white">Company</h4>
            <ul class="space-y-4">
              <li><a href="/about" class="text-gray-300 hover:text-white transition-all duration-300 hover:translate-x-1">About</a></li>
              <li><a href="/contact" class="text-gray-300 hover:text-white transition-all duration-300 hover:translate-x-1">Contact</a></li>
              <li><a href="/privacy" class="text-gray-300 hover:text-white transition-all duration-300 hover:translate-x-1">Privacy</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-700 mt-12 pt-8 text-center">
          <p class="text-gray-400 text-lg">&copy; 2025 JamBuddy. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.querySelector('.menu-icon');
        const closeIcon = document.querySelector('.close-icon');

        mobileMenuButton.addEventListener('click', function() {
          mobileMenu.classList.toggle('hidden');
          menuIcon.classList.toggle('hidden');
          closeIcon.classList.toggle('hidden');
        });

        // Close mobile menu when clicking on a link
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
          link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
            menuIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
          });
        });
      });
    </script>
  </body>
</html>
